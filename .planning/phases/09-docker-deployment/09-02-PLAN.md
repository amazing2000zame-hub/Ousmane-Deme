# Plan 09-02: Deployment Script & Production Hardening

## Goal
Create a deployment script that builds and deploys the full stack to the management VM (192.168.1.65) with one command.

## Requirements Addressed
DOCK-04 (single command deploy from Home node), DOCK-08 (production config), DOCK-09 (logging), DOCK-10 (security), DOCK-11 (documentation)

## Files to Create

### 1. `deploy.sh`
Deployment script that:
- Validates required env vars are set
- Copies project files to management VM via rsync/scp
- Runs `docker compose up -d --build` on management VM
- Waits for health checks to pass
- Reports deployment status

Usage: `./deploy.sh` (from Home node)

### 2. `jarvis-backend/.env.example`
Template showing all env vars with placeholder values.

## Files to Modify

### 3. `docker-compose.yml`
- Add logging configuration (json-file driver with max-size/max-file)
- Add resource limits (memory, cpus) appropriate for management VM

## Verification
- [ ] `./deploy.sh` completes without errors
- [ ] Health check passes after deployment
- [ ] Logs are capped and rotatable
